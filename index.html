<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Carte interactive</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
  }

  #carte {
    position: relative;
    width: 100vw;
    height: 100vh;
    background: url("carte.png") center / cover no-repeat;
  }

  .zone {
    position: absolute;
    width: 24px;
    height: 24px;
    background: red;
    border-radius: 50%;
    cursor: pointer;
  }

  #bulle {
    position: absolute;
    background: white;
    padding: 12px;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    display: none;
    max-width: 250px;
    z-index: 10;
  }
</style>
</head>

<body>

<div id="carte">

  <!-- Point cliquable -->
  <div class="zone"
       data-nom="Thorsen"
       style="top: 40%; left: 55%;">
  </div>

  <div id="bulle"></div>

</div>

<script>
// üîó Lien TSV public de ton Google Sheet
const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQz9C26GIE30pGGxPGhsow_teQePVLbol9b5etVDkQMc_R4vYUGDckbwpZqj0HQOdIzca1W6X_Wu8ZR/pub?gid=1101898628&single=true&output=tsv";

// Charger les donn√©es
let donnees = [];

fetch(SHEET_URL)
  .then(res => res.text())
  .then(tsv => {
    const lignes = tsv.split("\n");
    donnees = lignes.map(l => l.split("\t"));
  });

// Gestion du clic
document.querySelectorAll(".zone").forEach(zone => {
  zone.addEventListener("click", () => {
    const nom = zone.dataset.nom;
    const bulle = document.getElementById("bulle");

    bulle.style.display = "block";
    bulle.style.top = zone.offsetTop - 80 + "px";
    bulle.style.left = zone.offsetLeft + "px";
    bulle.innerHTML = "Chargement...";

    // Recherche dans le Sheet
    for (let i = 1; i < donnees.length; i++) {
      if (donnees[i][1] === nom) { // colonne B
        bulle.innerHTML = `
          <b>${nom}</b><br>
          F : ${donnees[i][5]}<br>
          G : ${donnees[i][6]}<br>
          H : ${donnees[i][7]}
        `;
        return;
      }
    }

    bulle.innerHTML = "Aucune donn√©e trouv√©e";
  });
});
</script>

</body>
</html>
